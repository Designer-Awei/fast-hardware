# RGB LED颜色控制项目

## 📋 项目简介

这是一个使用按键控制RGB LED颜色循环变化的Arduino示例项目。通过这个项目，你可以学习到：

- 数字输入引脚的基本使用
- PWM（脉宽调制）输出控制
- 按键去抖动技术
- 状态机编程思维
- RGB LED的颜色控制原理

## 🎯 功能特性

- **颜色循环切换**: 按键按下时循环切换颜色（关闭 → 红色 → 绿色 → 蓝色 → 关闭）
- **PWM控制**: 使用Arduino的PWM引脚精确控制LED亮度
- **按键去抖动**: 软件去抖动确保按键检测的稳定性
- **串口调试**: 通过串口监视器查看程序运行状态
- **扩展性**: 代码结构清晰，易于添加新功能

## 🔧 硬件需求

- Arduino Nano开发板 × 1
- RGB三色LED模块 × 1
- 按键开关模块 × 1
- 面包板 × 1
- 杜邦线若干

## 📍 电路连接

### Arduino Nano引脚连接：

| Arduino Nano | 连接目标 | 说明 |
|-------------|---------|------|
| D2 | 按键模块S引脚 | 按键信号输入 |
| D9 | RGB LED R引脚 | 红色LED控制 (PWM) |
| D10 | RGB LED G引脚 | 绿色LED控制 (PWM) |
| D11 | RGB LED B引脚 | 蓝色LED控制 (PWM) |
| GND | RGB LED GND + 按键模块GND | 公共地 |
| 5V | 按键模块VCC | 按键模块电源 |

### 连接示意图：

```
Arduino Nano          按键开关模块
    D2  -------------------- S
    5V  -------------------- VCC
   GND  -------------------- GND

Arduino Nano          RGB LED模块
    D9  -------------------- R
    D10 -------------------- G
    D11 -------------------- B
   GND  -------------------- GND
```

## 💻 代码说明

### 主要功能模块：

1. **引脚初始化**: 设置输入输出引脚模式
2. **按键检测**: 带去抖动的按键状态检测
3. **颜色切换**: 状态机实现颜色循环切换
4. **PWM输出**: 控制RGB LED的颜色显示
5. **串口调试**: 输出当前状态信息

### 关键技术点：

- **数字输入**: 使用`digitalRead()`读取按键状态
- **PWM输出**: 使用`analogWrite()`控制LED亮度
- **去抖动**: 软件延时去抖动确保按键稳定性
- **状态机**: 使用枚举和switch语句实现状态转换

## 🚀 使用步骤

1. **硬件连接**: 按照电路连接图连接各模块
2. **上传代码**: 将`rgb_color_control.ino`上传到Arduino Nano
3. **测试运行**:
   - 打开串口监视器（波特率9600）
   - 按下按键观察LED颜色变化
   - 查看串口输出了解程序状态

## 📚 学习要点

### 1. PWM控制原理
PWM（脉宽调制）通过快速开关控制LED的平均亮度，实现不同颜色的混合显示。

### 2. 按键去抖动
机械按键按下时会产生抖动，通过软件延时可以消除抖动干扰。

### 3. RGB颜色原理
RGB LED通过红绿蓝三色LED的不同组合可以产生各种颜色。

## 🔧 扩展功能

你可以尝试添加以下功能来扩展项目：

1. **颜色渐变**: 添加颜色之间的平滑过渡效果
2. **亮度调节**: 使用电位器控制LED整体亮度
3. **多种模式**: 添加闪烁、呼吸灯等效果
4. **红外遥控**: 使用红外接收器实现遥控颜色切换

## 📝 代码注释

代码中包含详细的中文注释，帮助你理解每个功能模块的作用和实现原理。

## 🎓 适合人群

- Arduino初学者
- 对电子制作感兴趣的学生
- 想要学习PWM控制的开发者
- 对RGB LED控制感兴趣的爱好者

## 📞 技术支持

如有问题或需要帮助，请访问 [www.design2002.xyz](https://www.design2002.xyz) 获取更多技术支持。

---

**快来体验RGB LED的奇妙色彩世界吧！** 🌈
